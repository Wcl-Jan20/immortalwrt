// SPDX-License-Identifier: GPL-2.0-or-later OR MIT

/dts-v1/;

#include "ipq5018-mx-base.dtsi"

/ {
	model = "Linksys MX5500";
	compatible = "linksys,mx5500", "qcom,ipq5018";
};

&dp1 {
	status = "okay";
};

&dp2 {
	status = "okay";

	nvmem-cells = <&hw_mac_addr 0>;
	nvmem-cell-names = "mac-address";

	fixed-link {
		speed = <1000>;
		full-duplex;
	};
};

&switch1 {
	ports {
		port@2 {
			label = "wan";
		};

		port@3 {
			label = "lan3";
		};

		port@4 {
			label = "lan2";
		};

		port@5 {
			label = "lan1";
		};

		port@6 {
			reg = <6>;
			label = "cpu";
			phy-mode = "sgmii";
			ethernet = <&dp2>;
			qca,sgmii-enable-pll;

			fixed-link {
				speed = <1000>;
				full-duplex;
			};
		};
	};
};

&pcie0 {
	status = "okay";
	perst-gpios = <&tlmm 15 GPIO_ACTIVE_LOW>;

	pcie@0 {
		wifi@0,0 {
			status = "okay";
			compatible = "pci17cb,1104";
			qcom,ath11k-fw-memory-mode = <1>;
			qcom,ath11k-calibration-variant = "Linksys-MX5500";
			reg = <0x00010000 0 0 0 0>;
		};
	};
};

&wifi0 {
	// IPQ5018
	status = "okay";
	qcom,ath11k-calibration-variant = "Linksys-MX5500";
};
